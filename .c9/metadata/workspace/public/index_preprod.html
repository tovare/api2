{"filter":false,"title":"index_preprod.html","tooltip":"/public/index_preprod.html","undoManager":{"mark":26,"position":26,"stack":[[{"start":{"row":121,"column":23},"end":{"row":121,"column":27},"action":"remove","lines":["whit"],"id":2},{"start":{"row":121,"column":23},"end":{"row":121,"column":24},"action":"insert","lines":["r"]},{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"insert","lines":["d"]},{"start":{"row":131,"column":10},"end":{"row":133,"column":9},"action":"remove","lines":["","         .attr(\"fill\", \"red\")","         "]},{"start":{"row":135,"column":10},"end":{"row":135,"column":11},"action":"remove","lines":["7"]},{"start":{"row":135,"column":10},"end":{"row":135,"column":11},"action":"insert","lines":["5"]},{"start":{"row":168,"column":8},"end":{"row":168,"column":28},"action":"remove","lines":[".attr(\"fill\", \"red\")"]}],[{"start":{"row":223,"column":0},"end":{"row":224,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":224,"column":0},"end":{"row":225,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":225,"column":0},"end":{"row":226,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":226,"column":0},"end":{"row":227,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":227,"column":0},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":7}],[{"start":{"row":226,"column":0},"end":{"row":316,"column":1},"action":"insert","lines":["//","// Visning av andel mobile enhter.","// =================================","// Figurene ble tegnet i Google Drive sin draw applikasjon etter iPhone, iPad og Asus ROG Swift 279Q som er en konge ","// skjerm med IPS panel. Sistenevnte er på ønskelisten til jul.","//","","deviceandel(svg,10,10);","","function deviceandel(selection,x,y) {","","    var im = svg.append(\"svg:image\")","      .attr(\"xlink:href\", \"images/phonerightcenter_ta.svg\")","      .attr(\"width\", 64)","      .attr(\"height\",64)","      .attr(\"x\", x)","      .attr(\"y\", y);","        ","    selection.append(\"svg:image\")","      .attr(\"xlink:href\", \"images/tabletrightcenter_ta.svg\")","      .attr(\"width\", 64)","      .attr(\"height\",64)","      .attr(\"x\", x)","      .attr(\"y\", y+64);","","    selection.append(\"svg:image\")","      .attr(\"xlink:href\", \"images/monitorrightcenter_ta.svg\")","      .attr(\"width\", 64)","      .attr(\"height\",64)","      .attr(\"x\", x)","      .attr(\"y\", y+(64*2));","","    var mobile = selection.append(\"text\")","        .attr(\"id\",\"MOBILE\")","        .attr(\"font-size\",\"30\")","        .attr(\"font-weight\",\"100\")","        .attr(\"fill\", \"#aaaaaa\")","        .attr(\"x\",x+80)","        .attr(\"y\",y+40)","        .text(\"- %\");","","    var tablet = selection.append(\"text\")","        .attr(\"id\",\"TABLET\")","        .attr(\"font-size\",\"30\")","        .attr(\"font-weight\",\"100\")","        .attr(\"fill\", \"#aaaaaa\")","        .attr(\"x\",x+80)","        .attr(\"y\",y+64+40)","        .text(\"- %\");","","    var desktop = selection.append(\"text\")","        .attr(\"id\",\"DESKTOP\")","        .attr(\"font-size\",\"30\")","        .attr(\"font-weight\",\"100\")","        .attr(\"fill\", \"#aaaaaa\")","        .attr(\"x\",x+80)","        .attr(\"y\",y+64+64+40)","        .text(\"- %\");","","    // Data format","    // [[\"DESKTOP\",\"715\"],[\"MOBILE\",\"238\"],[\"TABLET\",\"89\"]]    ","    //","    ","    d3.json(\"https://tovare.com/apiv2/ga/rtdevices\", function(error, data) {","        if(error){ console.log(error); }","        var devices = data;","        console.log(devices[0])","        var sum = d3.sum(devices,function(d) {return d[1]})","        mobile.text(Math.round( devices[1][1]/sum * 100)+ \" %\");","        tablet.text(Math.round( devices[2][1]/sum * 100)+ \" %\");","        desktop.text(Math.round( devices[0][1]/sum * 100)+ \" %\");","    });","","    ","    d3.interval(function() {","        updateDevices();","    },5000);","","    function updateDevices() {","        d3.json(\"https://tovare.com/apiv2/ga/rtdevices\", function(error, data) {","            if(error){ console.log(error); }","            var devices = data;","            var sum = d3.sum(devices,function(d) {return d[1]})","            mobile.text(Math.round( devices[1][1]/sum * 100)+ \" %\");","            tablet.text(Math.round( devices[2][1]/sum * 100)+ \" %\");","            desktop.text(Math.round( devices[0][1]/sum * 100)+ \" %\");","            console.log(\"Devices updated\")","        });","    }","    ","}"],"id":8}],[{"start":{"row":233,"column":18},"end":{"row":233,"column":19},"action":"insert","lines":["0"],"id":9}],[{"start":{"row":233,"column":22},"end":{"row":233,"column":23},"action":"insert","lines":["0"],"id":10}],[{"start":{"row":233,"column":20},"end":{"row":233,"column":21},"action":"remove","lines":["1"],"id":11}],[{"start":{"row":233,"column":20},"end":{"row":233,"column":21},"action":"insert","lines":["2"],"id":12}],[{"start":{"row":233,"column":20},"end":{"row":233,"column":21},"action":"remove","lines":["2"],"id":13}],[{"start":{"row":233,"column":20},"end":{"row":233,"column":21},"action":"insert","lines":["1"],"id":14}],[{"start":{"row":233,"column":21},"end":{"row":233,"column":22},"action":"remove","lines":["0"],"id":15}],[{"start":{"row":233,"column":21},"end":{"row":233,"column":22},"action":"insert","lines":["8"],"id":16}],[{"start":{"row":233,"column":17},"end":{"row":233,"column":18},"action":"remove","lines":["0"],"id":17}],[{"start":{"row":233,"column":17},"end":{"row":233,"column":18},"action":"insert","lines":["2"],"id":18}],[{"start":{"row":233,"column":17},"end":{"row":233,"column":18},"action":"remove","lines":["2"],"id":19}],[{"start":{"row":233,"column":17},"end":{"row":233,"column":18},"action":"insert","lines":["5"],"id":20}],[{"start":{"row":185,"column":16},"end":{"row":185,"column":17},"action":"insert","lines":["+"],"id":21}],[{"start":{"row":185,"column":17},"end":{"row":185,"column":18},"action":"insert","lines":["d"],"id":22}],[{"start":{"row":185,"column":18},"end":{"row":187,"column":9},"action":"remove","lines":[", function(d){","            return d;","        }"],"id":23}],[{"start":{"row":185,"column":16},"end":{"row":185,"column":17},"action":"remove","lines":["+"],"id":24}],[{"start":{"row":185,"column":15},"end":{"row":185,"column":16},"action":"remove","lines":["\""],"id":25}],[{"start":{"row":185,"column":14},"end":{"row":185,"column":15},"action":"remove","lines":["\""],"id":26}],[{"start":{"row":185,"column":14},"end":{"row":185,"column":15},"action":"remove","lines":["d"],"id":27}],[{"start":{"row":185,"column":14},"end":{"row":185,"column":27},"action":"insert","lines":["[activeUsers]"],"id":28}]]},"ace":{"folds":[],"scrolltop":2633.5,"scrollleft":0,"selection":{"start":{"row":186,"column":0},"end":{"row":186,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":174,"state":"js-no_regex","mode":"ace/mode/html"}},"timestamp":1471010341588,"hash":"b2d8f2b551e7ddf63d3663d32005896718fd6a0c"}